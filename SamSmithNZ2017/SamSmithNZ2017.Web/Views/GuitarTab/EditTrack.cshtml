@model SamSmithNZ2015.Models.GuitarTab.TabViewModel
@{
    ViewBag.Title = "Edit \"" + @Model.Tab.TrackName + "\"";
    Layout = "~/Views/Shared/_LayoutGuitarTab.cshtml";
}

<script>
    $("document").ready(function () {
        $("#frmSaveTrack").validate({
            rules: {
                'txtTrackName': {
                    required: true,
                    maxlength: 100
                },
                'txtOrder': {
                    required: true,
                    range: [1, 100]
                }
            },
            messages: {
                'txtTrackName': {
                    required: 'Track Name required',
                    maxlength: 'Must be under 100 characters'
                },
                'txtOrder': {
                    required: 'Track Order required',
                    maxlength: 'Must be between 1 and 100'
                }
            }
        });
    });
</script>
<style type="text/css">
    label.error {
        color: red;
    }
</style>

@using (Html.BeginForm("SaveTrack", "GuitarTab", new { albumCode = @Model.Tab.AlbumCode, trackCode = @Model.Tab.TrackCode }, FormMethod.Post, new { @id = "frmSaveTrack" }))
{
    <table>
        <tr>
            <td>Name: </td>
            <td>@Html.TextBox("txtTrackName", @Model.Tab.TrackName)</td>
        </tr>
        <tr>
            <td>Order: </td>
            <td>@Html.TextBox("txtOrder", @Model.Tab.TrackOrder)</td>
        </tr>
        <tr>
            <td>Rating: </td>
            <td>@Html.DropDownList("cboRating", new SelectList(Model.RatingList, "RatingCode", "RatingCode", @Model.Tab.Rating))</td>
        </tr>
        <tr>
            <td>Tuning: </td>
            <td>@Html.DropDownList("cboTuning", new SelectList(Model.TuningList, "TuningCode", "TuningName", @Model.Tab.TuningCode))</td>
        </tr>
        <tr>
            <td style="vertical-align:top;">Track Text: </td>
            <td>@Html.TextArea("txtTrackText", @Model.Tab.TrackText,new { cols = "100", rows = "20" })</td>
        </tr>
    </table>
    
    <input id="SaveTrack" type="submit" value="Save Changes" /><br />
}
